{% extends 'layout.html' %}

{% block body %}
    <div class="container mt-5">
        <h1 class="mb-4">Upload Audio</h1>
        <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <div class="form-group">
                {{ form.organization.label(class="form-control-label") }}
                {{ form.organization(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.project.label(class="form-control-label") }}
                {{ form.project(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.audio_file.label(class="form-control-label") }}
                {{ form.audio_file(class="form-control-file") }}
            </div>
            <div class="form-group">
                {{ form.submit(class="btn btn-primary") }}
            </div>
        </form>
        <h2 class="mt-5">Uploaded Audios</h2>
        <ul class="list-group">
            {% for audio in audios %}
            <li class="list-group-item">
                <strong>{{ audio[1] }}</strong> - {{ audio[2] }} -<a href="#" onclick="return $('#ModalAudio{{audio[0]}}').modal('show');" > {{audio[3]}} </a>
                <div class="modal " id="ModalAudio{{audio[0]}}" tabindex="-1"  aria-labelledby="ModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" class="modal-title" id="ModalLabel">Audio</h4>
                                <button type="button" class="close"  onclick="return $('#ModalAudio{{audio[0]}}').modal('hide');" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                          </div>
                        </div>
                        <div class="modal-body">
                        </a><audio class="mt-2" controls>
                            <source src="/static/audio/{{audio[3]}}" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio> 
                        </div>
                    </div>
                </div>
            </div> 
            </li>
            </li>
            {% endfor %}
        </ul>
    </div>
    
   
    {% endblock %}