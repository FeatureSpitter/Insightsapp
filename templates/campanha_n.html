{% extends 'layout.html'%}


{% block body%}
<div class="container my-5">

  <h1>{% if type == 'formacao' %} Aula {% else %} {{type}} {% endif %}- {{id}}</h1>
  <hr>
  <table class="table table-striped" id="dataTable">
    <tr>
      
      <th>Pergunta </th>
      <th>Conteudo</th>
      <th>audio</th>
      
      <th></th>
      <th></th>
      <th></th>

    </tr>
    {% for column in columns_list %}
      <tr>
        <td>pergunta {{loop.index}}</td>
        <td>{{ column[2] }}</td>
        <td>
          {% if column[3] %}
          <audio   controls>
            <source src="{{ url_for('static', filename='audios/' + column[3]) }}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio> 
          {% else %}
          nenhum audio
          
        {% endif %}
    </td>

        <td><a href="/perguntas/{{column[1]}}" class="btn btn-default pull-right">Opcoes de Resposta</a></td>
        
        <td><a href="/assign_question/{{column[0]}}/questao" class="btn btn-default pull-right">Editar Pergunta</a></td>
       
        {% if type == 'formacao' %} 
        <td><a href="/add_audio/{{column[0]}}" class="btn btn-default pull-right" >Adicionar Audio</a></td>
        {% else %}
        <td><a href="/assign_question/{{column[0]}}/audio" class="btn btn-default pull-right" >Adicionar Audio</a></td>
        {% endif %}
      </tr>
    {% endfor %}
    
  </table>
  <a class="btn btn-success" href="/add_question/{{id}}/{{type}}">Adicionar Pergunta</a>
  <a class="btn btn-success" href="/campanhas">Voltar a campanhas</a>
  <a class="btn btn-success" href="/campanhas">Testar</a>
  
  <div class="modal " id="ModalAudio" tabindex="-1"  aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title" class="modal-title" id="ModalLabel">Audio</h4>
                <button type="button" class="close"  onclick="return $('#ModalAudio').modal('hide');" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
          </div>
        
        <div class="modal-body" id="modbody">
       
        </div>
      </div>
    </div>
</div>
  
<script>
  function adicionarLinha() {
    var table = document.getElementById("dataTable").getElementsByTagName('tbody')[0];
    var newRow = table.insertRow();
    newRow.innerHTML = '<td><input type="text" name="nome[]" class="form-control" readonly></td><td><input type="text" name="questao" class="form-control"></td>';
  }
</script>
{% endblock %}
