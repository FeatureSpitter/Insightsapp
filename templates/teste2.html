<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IVR Campaigns</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

<style>
   
.content {
    padding: 2em;
}

h1 {
    color: #333;
}



label {
    display: block;
    margin-bottom: 0.5em;
    color: #333;
}

input[type="text"],
select {
    width: 100%;
    padding: 0.5em;
    margin-bottom: 1em;
    border: 1px solid #ccc;
    border-radius: 5px;
}

button {
    background-color: #333;
    color: #fff;
    padding: 0.5em 2em;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

button:hover {
    background-color: #555;
}

   .file-upload {
    position: relative;
    display: inline-block;
    width: 220px;
    text-align: center;
}

.custom-button{
    width: 180px;
    padding: 5px;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    
}

.custom-file-upload {
    display: inline-block;
    cursor: pointer;
    padding: 7px ;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 16px;
}

.custom-file-upload i {
    margin-right: 0px;
}

.file-upload input[type="file"] {
    display: none;
}


    </style>
</head>
<body>
  
    <div class="content">
        
    <div class="col-md-6 offset-md-2">
        <div class="card">
            <div class="card-header">
                <h1 class="card-title">Create Campaign</h1>
            </div>
        <div class="card-body">
        <form action="{{ url_for('create_campaign') }}" method="post">
            <label for="name">Project:</label>
            <input type="text" id="name" name="name" required>
            
            <label for="type">Campaign Type:</label>
            <select id="type" name="type" onchange="checkSelection()">
                <option value="inquiry">Inquiry</option>
                <option value="remote_training">Remote Training</option>
                <option value="Simple">Simple</option>
            </select>

             <label for="type">Language:</label>
            <select id="type" name="type">
                <option value="inquiry">portugues</option>
                <option value="remote_training">cena</option>
            </select>

            <label for="question_audio">Introduction Audio URL:</label>
            <div class="input-group mb-3">
            <input type="text" id="intro_audio" placeholder="" class="form-control" name="intro_audio">
            <div class="file-upload ">
                <label for="file-upload1" class="custom-file-upload">
                    <i class="fas fa-cloud-upload-alt"></i> Upload da Introdução
                </label>
                <input id="file-upload1" type="file" accept="audio/*" class="file-upload-input"/>
              </div>
              <div style="display:none;" class="border-bottom-1" id="audio-insert1">
                <h5>Audio Preview</h5>
              <audio id="audio-preview1" controls ></audio>
            </div>
        </div>

            <div style="display: none;" id="Lesson-info"> 
            <label for="lesson_audio">Lesson Audio URL:</label>
            <input type="text" id="lesson_audio" name="lesson_audio">
            <div class="file-upload ">
                <label for="file-upload2" class="custom-file-upload">
                    <i class="fas fa-cloud-upload-alt"></i> Upload da Conclusao
                </label>
                <input id="file-upload2" type="file" accept="audio/*" class="file-upload-input"/>
              </div>
              <hr>

             <div style="display:none;" id="audio-insert2">
                 <h5>Audio Preview</h5>
               <audio id="audio-preview2" controls ></audio>
             </div>
             </div> 

            <div style="display: none;" id="Audio-info"> 
            <label for="audio">Audio URL:</label>
            <input type="text" id="audio" name="aundio">
            <div class="file-upload ">
                <label for="file-upload3" class="custom-file-upload">
                    <i class="fas fa-cloud-upload-alt"></i> Upload da Conclusao
                </label>
                <input id="file-upload3" type="file" accept="audio/*" class="file-upload-input"/>
              </div>
              <div style="display:none;" class="border-bottom-1" id="audio-insert2">
                <h5>Audio Preview</h5>
              <audio id="audio-preview2" controls  ></audio>
            </div>
             </div> 

            <label for="question_audio">Conclusion Audio URL:</label>
            <div class="input-group mb-3">
            <input type="text" id="con_audio" name="con_audio" class="form-control">
            <div class="file-upload ">
                <label for="file-upload4" class="custom-file-upload">
                    <i class="fas fa-cloud-upload-alt"></i> Upload da Conclusao
                </label>
                <input id="file-upload4" type="file" accept="audio/*" class="file-upload-input"/>
              </div>
            </div>
            
            <button type="submit" class="custom-button mt-2">Create Campaign</button>
 
        </form>
    </div>
  </div>
  </div>
</div>

    <script>

     function checkSelection() {
        alert('viva')
            var selectBox = document.getElementById('type');
            var lesson = document.getElementById('Lesson-info');
            var audioInfo = document.getElementById('Audio-info');
            if (selectBox.value == 'remote_training') {
                lesson.style.display = 'block';
            } else if (  selectBox.value == 'Simple') {
                audioInfo.style.display = 'block';
            }
        }

        document.getElementById('file-upload1').addEventListener('change', function(event) {
         var audioPreview = document.getElementById('audio-preview1');
         let introAudio =  document.getElementById('intro_audio')
         var audioInsert = document.getElementById('audio-insert1');
         var file = event.target.files[0];
         introAudio.value = event.target.value
         if (file) {
             var reader = new FileReader();
             
             reader.onload = function(e) {
                 audioPreview.src = e.target.result;
                 audioInsert.style.display = 'block';

                 
             };
             
             reader.readAsDataURL(file);
         }
     });
     
     document.getElementById('file-upload2').addEventListener('change', function(event) {
         var audioPreview = document.getElementById('audio-preview2');
         var audioInsert = document.getElementById('audio-insert2');
         let lessonAudio =  document.getElementById('Lesson_audio')
         var file = event.target.files[0];
         lessomAudio.value = event.target.value
     
         if (file) {
             var reader = new FileReader();
             
             reader.onload = function(e) {
                 audioPreview.src = e.target.result;
                 audioInsert.style.display = 'block';
                };
             
             reader.readAsDataURL(file);
         }
     });
     
     document.getElementById('file-upload3').addEventListener('change', function(event) {
         var audioPreview = document.getElementById('audio-preview3');
         let Audio =  document.getElementById('audio-info')
         var file = event.target.files[0];
         Audio.value = event.target.value
     
         if (file) {
             var reader = new FileReader();
             
             reader.onload = function(e) {
                 audioPreview.src = e.target.result;
                 audioPreview.style.display = 'block';
             };
             
             
             reader.readAsDataURL(file);
         }
     });
     
     document.getElementById('file-upload4').addEventListener('change', function(event) {
         var audioPreview = document.getElementById('audio-preview4');
         let conAudio =  document.getElementById('con_audio')
         var file = event.target.files[0];
         conAudio.value = event.target.value
     
         if (file) {
             var reader = new FileReader();
             
             reader.onload = function(e) {
                 audioPreview.src = e.target.result;
                 audioPreview.style.display = 'block';
             };
             
             
             reader.readAsDataURL(file);
         }
     });
     
         </script>
         
</body>
</html>
